features = [[8.3000000000000007, 0.89056187868100001, 0.89758360385900005, 0.60000002384200002], [8.3000000000000007, 0.39829704165500002, 0.75, 0.75], [13.300000000000001, 1.6417976617800001, 0.67202091217000004, 0.82777780294400005], [20.383314045399999, 1.6899324964, 0.96322230877699999, 0.53668275816400002], [19.1571091434, 1.50416607603, 0.93983663500100001, 0.47088669839300001], [22.600000000000001, 1.12642717361, 1.0, 0.5], [16.491605845300001, 1.19712980344, 0.57850478212500001, 0.92020986654900006], [28.699999999999999, 3.5800647735600002, 0.75, 0.75], [23.800000000000001, 0.0, -0.00555551052094, 0.50555557012600005], [25.699999999999999, 1.99071586132, 0.75, 0.75], [24.600000000000001, 2.14392852783, 0.62888109684000004, 0.86666667461400004], [22.691719377199998, 2.5161699626699998, 0.80891713400499998, 0.69108286599500002], [28.257052845600001, 2.92338402742, 0.67074928862799998, 0.82625458412200004], [33.799999999999997, 0.89056187868100001, 0.89758360385900005, 0.60000002384200002], [33.799999999999997, 1.5928033590299999, 0.75, 0.75], [27.399999999999999, 1.99071586132, 0.75, 0.75], [31.571552204700001, 1.30999670664, 0.59840207260099998, 0.90159792739900002], [32.899999999999999, 0.39829704165500002, 0.75, 0.75], [27.399999999999999, 2.2519841194199999, 1.0, 0.5], [29.423808336600001, 2.0226039245299998, 0.80086474046, 0.696031780908], [33.799999999999997, 2.0301070213300001, 0.68716704845400001, 0.81111109256699998], [31.5, 1.5928033590299999, 0.75, 0.75], [30.699999999999999, 1.2593432664899999, 0.85241639614099995, 0.64444446563699997], [34.700000000000003, 0.79655557870899996, 0.75, 0.75], [36.282460786400001, 1.2593432664899999, 0.49188672853499998, 0.85293048302399999], [28.0, 2.5487041473400001, 0.96477669477500005, 0.53333336114899998], [43.299999999999997, 5.3283872604400004, 0.60241639614099995, 0.89444446563699997], [38.299999999999997, 2.5174708366399998, 0.14758366346400001, 0.64999997615799998], [42.399999999999999, 3.93679594994, 0.5, 1.0], [34.700000000000003, 3.4222602844200001, 0.94743150472600002, 0.55000001192100001], [39.5, 2.3212175369299999, 0.92202091217000004, 0.57777780294400005], [38.299999999999997, 2.2519841194199999, 1.0, 0.5], [54.700000000000003, 1.12642717361, 0.5, 1.0], [55.600000000000001, 0.89056187868100001, 0.60241639614099995, 0.89444446563699997], [55.600000000000001, 1.6417976617800001, 0.82797908782999996, 0.66666668653500005], [54.700000000000003, 1.99071586132, 0.75, 0.75], [57.799999999999997, 3.20786905289, 0.91524934768699995, 0.58333331346499995], [57.799999999999997, 2.5487041473400001, 0.96477669477500005, 0.53333336114899998], [58.688886466500001, 1.7770931268400001, 0.90533429964099998, 0.59324194375600003], [61.200000000000003, 1.5928033590299999, 0.75, 0.75], [67.099999999999994, 2.8972210884099998, 0.838585495949, 0.661111116409]]
targets = [1730.7766588300001, 1818.08937081, 1798.31880654, 1794.47010628, 1813.27025544, 1802.25289284, 1784.0295240200001, 1795.3768149699999, 1780.6882507299999, 1738.6594407099999, 1783.4234185, 1794.27263311, 1787.6371723899999, 1322.4467504199999, 2144.1417122900002, 1767.6486558700001, 1774.18189781, 0.0, 1766.99617403, 1778.98277856, 1821.3567491900001, 1721.3720982299999, 1800.7688242900001, 2233.6579919199999, 2052.1301667900002, 1795.4157780400001, 2087.3157386799999, 2083.90637629, 2076.0884342600002, 1768.61283142, 302.14516903999998, 1961.2594193, 502.72172931799997, 436.014227533, 402.02930213299999, 490.66105824099998, 492.68003945599997, 516.22023826700001, 489.10150354799998, 477.51320500200001, 334.21305923300002]

import regression

model = regression.ANNMLPModel()
model.addExamples(features, targets)
model.train(seedmodel=regression.OLSModel())
model.net.debugWeights()

# model = regression.OLSModel()
# model.addExamples(features, targets)
# model.train()
model.serialize('whatever.mod')
newmodel = regression.Model.deserialize('whatever.mod')

# print(model)
fx = newmodel.get()
for i in range(len(targets)):
  print str(targets[i]).ljust(15), fx(features[i]), features[i]
